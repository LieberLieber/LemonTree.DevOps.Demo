{
  "checks": [
    {
      "id": "Unsatisfied Requirements",
      "query": "select count (*) from t_object where object_id not in  ( select o.object_id from t_object o inner join t_connector c on o.object_id = c.end_object_id where o.object_type = 'requirement' and c.stereotype = 'satisfy' ) and object_type = 'requirement'",
      "passedTitle": "There are no unsatisfied requirements",
      "failedTitle": "Model has {count} unsatisfied requirements",
      "failedDetail": "Each requirement should be linked to at least one design element using a 'satisfy' relationship."
    },
    {
      "id": "Requirements With Outgoing Architecture Links",
      "query": "SELECT COUNT(DISTINCT r.Object_ID) AS RequirementCount FROM t_object r JOIN t_connector c ON c.Start_Object_ID = r.Object_ID JOIN t_object tgt ON tgt.Object_ID = c.End_Object_ID WHERE r.Object_Type = 'Requirement' AND tgt.Object_Type <> 'Requirement'",
      "passedTitle": "All requirements have outgoing links to architecture elements",
      "failedTitle": "Model has {count} requirements with outgoing architecture links",
      "failedDetail": "Each requirement is expected to have at least one outgoing relationship to a non-requirement (architecture) element.",
      "failedLevel": "Error"
    },
    {
      "id": "Ports without Interface Defintion",
      "query": "select count(*) from t_object where object_type = 'Port' and t_object.PDATA1 is NULL",
      "passedTitle": "There are no ports without interface definition",
      "failedTitle": "Model has {count} ports without interface definition",
      "failedDetail": "All ports should have an interface definition assigned.",
      "failedLevel": "Warning"
    },
    {
      "id": "Untraced Polarion Requirements",
      "query": "SELECT Count(*) FROM t_object o JOIN t_package p ON p.Package_ID = o.Package_ID WHERE o.Object_Type = 'Requirement' AND p.ea_guid = '{DA8C761F-6B8C-4e01-ACD0-54EF6D8272D3}' AND NOT EXISTS (SELECT 1 FROM t_connector c WHERE c.End_Object_ID = o.Object_ID AND ((c.Connector_Type IN ('Dependency','Abstraction') AND LOWER(c.Stereotype) = 'trace') OR c.Connector_Type = 'Trace')) ORDER BY o.Name;",
      "passedTitle": "All Polarion requirements are traced to architecture elements",
      "failedTitle": "Model has {count} untraced Polarion requirements",
      "failedDetail": "Each Polarion requirement must have at least one Trace relationship (type Trace or stereotype 'trace') to a non-requirement (architecture) element."
    },
    {
      "id": "Orphaned InterfaceBlocks",
      "query": "select count(*) from t_object where stereotype = 'InterfaceBlock' and ea_guid not in (select pdata1 from t_object where object_type = 'Port')",
      "passedTitle": "There are no orphaned InterfaceBlocks",
      "failedTitle": "Model has {count} orphaned InterfaceBlocks",
      "failedDetail": "There shouldn't be orphaned InterfaceBlocks."
    },
    {
      "id": "Journal",
      "query": "Select Count(*) from t_document where t_document.DocType = \"JEntry\"",
      "passedTitle": "No Journal entries in the model",
      "failedTitle": "Model has {count} Journal Entries",
      "failedDetail": "Journal entries are not merged by LemonTree."
    }
  ]
}
